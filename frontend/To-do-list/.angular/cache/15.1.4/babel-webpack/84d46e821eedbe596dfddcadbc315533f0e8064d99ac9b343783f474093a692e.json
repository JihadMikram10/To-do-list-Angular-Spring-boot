{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/services/user.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"src/app/shared/services/token-storage.service\";\nexport class ConnexionComponent {\n  constructor(userService, fb, router, toastr, tokenservice) {\n    this.userService = userService;\n    this.fb = fb;\n    this.router = router;\n    this.toastr = toastr;\n    this.tokenservice = tokenservice;\n    this.isLoggedIn = false;\n    this.isLoginFailed = false;\n    this.errorMessage = '';\n    this.httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json'\n      })\n    };\n  }\n  ngOnInit() {\n    this.formUser = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required]]\n    });\n  }\n  connexion() {\n    this.userService.login(this.formUser.value).subscribe(data => {\n      localStorage.setItem('email', this.formUser.value.email);\n      this.toastr.success(data['message']);\n      this.tokenservice.setToken(data['token']);\n      this.router.navigate(['/user/home']);\n    }, err => {\n      if (err.status === 409) {\n        this.toastr.error(err.error.message);\n      }\n    });\n  }\n}\nConnexionComponent.ɵfac = function ConnexionComponent_Factory(t) {\n  return new (t || ConnexionComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.TokenStorageService));\n};\nConnexionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ConnexionComponent,\n  selectors: [[\"app-connexion\"]],\n  decls: 38,\n  vars: 1,\n  consts: [[1, \"vh-100\", \"gradient-custom\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col\", \"col-xl-10\"], [1, \"card\", 2, \"border-radius\", \"1rem\"], [1, \"row\", \"g-0\"], [1, \"col-md-6\", \"col-lg-5\", \"d-none\", \"d-md-block\", \"mt-3\"], [\"src\", \"https://media.istockphoto.com/id/935062576/vector/clipboard-with-checklist-icon-checklist-complete-tasks-to-do-list-survey-exam-concepts-best.jpg?s=612x612&w=0&k=20&c=qPlo4e75iCkYiRsRBMcLdegZUoIvAzFUCsWWF-EIZnE=\", \"alt\", \"login form\", 1, \"img-fluid\", \"mt-5\", 2, \"border-radius\", \"1rem 0 0 1rem\"], [1, \"col-md-6\", \"col-lg-7\", \"d-flex\", \"align-items-center\"], [1, \"card-body\", \"p-4\", \"p-lg-5\", \"text-black\"], [3, \"formGroup\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"pb-1\"], [1, \"fas\", \"fa-cubes\", \"fa-2x\", \"me-3\", 2, \"color\", \"#5536e2\"], [1, \"h1\", \"fw-bold\", \"mb-0\"], [1, \"fw-normal\", \"mb-3\", \"pb-3\", 2, \"letter-spacing\", \"1px\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"email\", \"id\", \"form2Example10\", \"formControlName\", \"email\", 1, \"form-control\", \"form-control-lg\"], [1, \"form-label\"], [\"type\", \"password\", \"id\", \"form2Example27\", \"formControlName\", \"password\", 1, \"form-control\", \"form-control-lg\"], [1, \"pt-1\", \"mb-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-lg\", \"btn-block\", 3, \"click\"], [\"href\", \"#!\", 1, \"small\", \"text-muted\"], [1, \"mb-5\", \"pb-lg-2\", 2, \"color\", \"#393f81\"], [\"href\", \"#!\", \"routerLink\", \"/inscription\", 2, \"color\", \"#393f81\"]],\n  template: function ConnexionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6);\n      i0.ɵɵelement(7, \"img\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 9)(10, \"form\", 10)(11, \"div\", 11);\n      i0.ɵɵelement(12, \"i\", 12);\n      i0.ɵɵelementStart(13, \"span\", 13);\n      i0.ɵɵtext(14, \"To Do\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"h5\", 14);\n      i0.ɵɵtext(16, \" Sign into your account \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelement(18, \"input\", 16);\n      i0.ɵɵelementStart(19, \"label\", 17);\n      i0.ɵɵtext(20, \"Email \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 15);\n      i0.ɵɵelement(22, \"input\", 18);\n      i0.ɵɵelementStart(23, \"label\", 17);\n      i0.ɵɵtext(24, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 19)(26, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function ConnexionComponent_Template_button_click_26_listener() {\n        return ctx.connexion();\n      });\n      i0.ɵɵtext(27, \" Login \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"a\", 21);\n      i0.ɵɵtext(29, \"Forgot password?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"p\", 22);\n      i0.ɵɵtext(31, \" Don't have an account? \");\n      i0.ɵɵelementStart(32, \"a\", 23);\n      i0.ɵɵtext(33, \"Register here\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"a\", 21);\n      i0.ɵɵtext(35, \"Terms of use.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"a\", 21);\n      i0.ɵɵtext(37, \"Privacy policy\");\n      i0.ɵɵelementEnd()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"formGroup\", ctx.formUser);\n    }\n  },\n  dependencies: [i3.RouterLink, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\".gradient-custom[_ngcontent-%COMP%] {\\r\\n  height: 100%;\\r\\n  \\r\\n  background: #6a11cb;\\r\\n\\r\\n  \\r\\n\\r\\n  \\r\\n  background: linear-gradient(\\r\\n    to right,\\r\\n    rgba(106, 17, 203, 1),\\r\\n    rgba(37, 117, 252, 1)\\r\\n  );\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2Nvbm5leGlvbi9jb25uZXhpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWiw4QkFBOEI7RUFDOUIsbUJBQW1COztFQUVuQiwrQkFBK0I7O0VBTy9CLHFFQUFxRTtFQUNyRTs7OztHQUlDO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyIuZ3JhZGllbnQtY3VzdG9tIHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgLyogZmFsbGJhY2sgZm9yIG9sZCBicm93c2VycyAqL1xyXG4gIGJhY2tncm91bmQ6ICM2YTExY2I7XHJcblxyXG4gIC8qIENocm9tZSAxMC0yNSwgU2FmYXJpIDUuMS02ICovXHJcbiAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoXHJcbiAgICB0byByaWdodCxcclxuICAgIHJnYmEoMTA2LCAxNywgMjAzLCAxKSxcclxuICAgIHJnYmEoMzcsIDExNywgMjUyLCAxKVxyXG4gICk7XHJcblxyXG4gIC8qIFczQywgSUUgMTArLyBFZGdlLCBGaXJlZm94IDE2KywgQ2hyb21lIDI2KywgT3BlcmEgMTIrLCBTYWZhcmkgNysgKi9cclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXHJcbiAgICB0byByaWdodCxcclxuICAgIHJnYmEoMTA2LCAxNywgMjAzLCAxKSxcclxuICAgIHJnYmEoMzcsIDExNywgMjUyLCAxKVxyXG4gICk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA4BA,WAAW,QAAQ,sBAAsB;AAErE,SAAiCC,UAAU,QAAQ,gBAAgB;;;;;;;AAYnE,OAAM,MAAOC,kBAAkB;EAQ7BC,YACUC,WAAwB,EACxBC,EAAe,EACfC,MAAc,EACdC,MAAqB,EACrBC,YAAiC;IAJjC,gBAAW,GAAXJ,WAAW;IACX,OAAE,GAAFC,EAAE;IACF,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IACN,iBAAY,GAAZC,YAAY;IARtB,eAAU,GAAG,KAAK;IAClB,kBAAa,GAAG,KAAK;IACrB,iBAAY,GAAG,EAAE;IAejB,gBAAW,GAAG;MACZC,OAAO,EAAE,IAAIT,WAAW,CAAC;QACvB,cAAc,EAAE;OACjB;KACF;EAZE;EAEHU,QAAQ;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACN,EAAE,CAACO,KAAK,CAAC;MAC5BC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACZ,UAAU,CAACa,QAAQ,EAAEb,UAAU,CAACY,KAAK,CAAC,CAAC;MACpDE,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACd,UAAU,CAACa,QAAQ,CAAC;KACrC,CAAC;EACJ;EAMAE,SAAS;IACP,IAAI,CAACZ,WAAW,CACba,KAAK,CAAC,IAAI,CAACN,QAAQ,CAACO,KAAK,CAAC,CAE1BC,SAAS,CACPC,IAAS,IAAI;MACZC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,IAAI,CAACX,QAAQ,CAACO,KAAK,CAACL,KAAK,CAAC;MACxD,IAAI,CAACN,MAAM,CAACgB,OAAO,CAACH,IAAI,CAAC,SAAS,CAAC,CAAC;MACpC,IAAI,CAACZ,YAAY,CAACgB,QAAQ,CAACJ,IAAI,CAAC,OAAO,CAAC,CAAC;MACzC,IAAI,CAACd,MAAM,CAACmB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC,EACAC,GAAsB,IAAI;MACzB,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;QACtB,IAAI,CAACpB,MAAM,CAACqB,KAAK,CAACF,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC;;IAExC,CAAC,CACF;EACL;;AA5CW3B,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd/BC,kCAAwC;MAO1BA,yBAKE;MACJA,iBAAM;MACNA,8BAAyD;MAIjDA,yBAGK;MACLA,iCAA8B;MAAAA,sBAAK;MAAAA,iBAAO;MAG5CA,+BAA4D;MAC1DA,yCACF;MAAAA,iBAAK;MAELA,gCAA+B;MAC7BA,6BAKE;MACFA,kCAA0B;MAAAA,uBAAM;MAAAA,iBAAQ;MAG1CA,gCAA+B;MAC7BA,6BAKE;MACFA,kCAA0B;MAAAA,yBAAQ;MAAAA,iBAAQ;MAG5CA,gCAAuB;MAInBA;QAAA,OAASC,eAAW;MAAA,EAAC;MAErBD,wBACF;MAAAA,iBAAS;MAGXA,8BAAsC;MAAAA,iCAAgB;MAAAA,iBAAI;MAC1DA,8BAA+C;MAC7CA,yCACA;MAAAA,8BAIG;MAAAA,8BAAa;MAAAA,iBACf;MAEHA,8BAAsC;MAAAA,8BAAa;MAAAA,iBAAI;MACvDA,8BAAsC;MAAAA,+BAAc;MAAAA,iBAAI;;;MAtDpDA,gBAAsB;MAAtBA,wCAAsB","names":["HttpHeaders","Validators","ConnexionComponent","constructor","userService","fb","router","toastr","tokenservice","headers","ngOnInit","formUser","group","email","required","password","connexion","login","value","subscribe","data","localStorage","setItem","success","setToken","navigate","err","status","error","message","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Angular\\To-do-list\\src\\app\\component\\connexion\\connexion.component.ts","C:\\Angular\\To-do-list\\src\\app\\component\\connexion\\connexion.component.html"],"sourcesContent":["import { HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { User } from 'src/app/shared/interface/user';\nimport { TokenStorageService } from 'src/app/shared/services/token-storage.service';\nimport { UserService } from 'src/app/shared/services/user.service';\n\n@Component({\n  selector: 'app-connexion',\n  templateUrl: './connexion.component.html',\n  styleUrls: ['./connexion.component.css'],\n})\nexport class ConnexionComponent implements OnInit {\n  public user!: User[];\n  formUser: any;\n  email!: string;\n  password!: string;\n  isLoggedIn = false;\n  isLoginFailed = false;\n  errorMessage = '';\n  constructor(\n    private userService: UserService,\n    private fb: FormBuilder,\n    private router: Router,\n    private toastr: ToastrService,\n    private tokenservice: TokenStorageService\n  ) {}\n\n  ngOnInit(): void {\n    this.formUser = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required]],\n    });\n  }\n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json',\n    }),\n  };\n  connexion(): void {\n    this.userService\n      .login(this.formUser.value)\n\n      .subscribe(\n        (data: any) => {\n          localStorage.setItem('email', this.formUser.value.email);\n          this.toastr.success(data['message']);\n          this.tokenservice.setToken(data['token']);\n          this.router.navigate(['/user/home']);\n        },\n        (err: HttpErrorResponse) => {\n          if (err.status === 409) {\n            this.toastr.error(err.error.message);\n          }\n        }\n      );\n  }\n}\n","<section class=\"vh-100 gradient-custom\">\n  <div class=\"container py-5 h-100\">\n    <div class=\"row d-flex justify-content-center align-items-center h-100\">\n      <div class=\"col col-xl-10\">\n        <div class=\"card\" style=\"border-radius: 1rem\">\n          <div class=\"row g-0\">\n            <div class=\"col-md-6 col-lg-5 d-none d-md-block mt-3\">\n              <img\n                src=\"https://media.istockphoto.com/id/935062576/vector/clipboard-with-checklist-icon-checklist-complete-tasks-to-do-list-survey-exam-concepts-best.jpg?s=612x612&w=0&k=20&c=qPlo4e75iCkYiRsRBMcLdegZUoIvAzFUCsWWF-EIZnE=\"\n                alt=\"login form\"\n                class=\"img-fluid mt-5\"\n                style=\"border-radius: 1rem 0 0 1rem\"\n              />\n            </div>\n            <div class=\"col-md-6 col-lg-7 d-flex align-items-center\">\n              <div class=\"card-body p-4 p-lg-5 text-black\">\n                <form [formGroup]=\"formUser\">\n                  <div class=\"d-flex align-items-center mb-3 pb-1\">\n                    <i\n                      class=\"fas fa-cubes fa-2x me-3\"\n                      style=\"color: #5536e2\"\n                    ></i>\n                    <span class=\"h1 fw-bold mb-0\">To Do</span>\n                  </div>\n\n                  <h5 class=\"fw-normal mb-3 pb-3\" style=\"letter-spacing: 1px\">\n                    Sign into your account\n                  </h5>\n\n                  <div class=\"form-outline mb-4\">\n                    <input\n                      type=\"email\"\n                      id=\"form2Example10\"\n                      class=\"form-control form-control-lg\"\n                      formControlName=\"email\"\n                    />\n                    <label class=\"form-label\">Email </label>\n                  </div>\n\n                  <div class=\"form-outline mb-4\">\n                    <input\n                      type=\"password\"\n                      id=\"form2Example27\"\n                      class=\"form-control form-control-lg\"\n                      formControlName=\"password\"\n                    />\n                    <label class=\"form-label\">Password</label>\n                  </div>\n\n                  <div class=\"pt-1 mb-4\">\n                    <button\n                      class=\"btn btn-primary btn-lg btn-block\"\n                      type=\"button\"\n                      (click)=\"connexion()\"\n                    >\n                      Login\n                    </button>\n                  </div>\n\n                  <a class=\"small text-muted\" href=\"#!\">Forgot password?</a>\n                  <p class=\"mb-5 pb-lg-2\" style=\"color: #393f81\">\n                    Don't have an account?\n                    <a\n                      href=\"#!\"\n                      style=\"color: #393f81\"\n                      routerLink=\"/inscription\"\n                      >Register here</a\n                    >\n                  </p>\n                  <a href=\"#!\" class=\"small text-muted\">Terms of use.</a>\n                  <a href=\"#!\" class=\"small text-muted\">Privacy policy</a>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}